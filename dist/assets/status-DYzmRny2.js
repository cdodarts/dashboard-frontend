import{d as l,c as h,w as r,f as a,e as t,t as o,C as g,k as T,n as j,p as O,h as F,j as y,F as z,l as U,i as M,q as V,o as G,a as P,bC as R,g as E,r as _,u as W,A as H,V as I,m as K}from"./index-BH-1eDVb.js";import{V as $,_ as k,c as Q,f as J}from"./VContainer-C2PqQUUm.js";import{V as S}from"./VDivider-B7GoG5vU.js";import{_ as N}from"./StatusBadge-DC3KFVgu.js";import{_ as X}from"./ConnectionStatus-CHPWvpAU.js";import{V as Y}from"./VAlert-vJp_IYB8.js";import{V as Z,a as C}from"./VRow-DqXVCskN.js";const tt={class:"d-flex align-center justify-space-between mb-4"},et={class:"text-h5 text-primary-high font-weight-bold"},at={class:"text-center"},st={class:"text-h4 font-weight-bold text-primary-high"},nt={class:"d-flex justify-space-between text-caption"},it={class:"text-primary-medium"},ot={class:"d-flex justify-space-between text-caption mt-1"},rt={class:"text-primary-medium"},lt={__name:"CPUCard",props:{data:{type:Object,default:null}},setup(e){function d(s){return s?s<50?"success":s<80?"warning":"error":"secondary"}function u(s){return!s||s<50?"success":s<80?"warning":"error"}return(s,i)=>(l(),h(k,{hoverable:""},{default:r(()=>[a($,null,{default:r(()=>[t("div",tt,[t("div",null,[i[0]||(i[0]=t("div",{class:"text-secondary text-caption mb-1"},"CPU Usage",-1)),t("div",et,o(e.data?.usage_percent?.toFixed(1)??"--")+"% ",1)]),a(g,{color:d(e.data?.usage_percent),icon:"mdi-chip",size:"48",style:{opacity:"0.3"}},null,8,["color"])]),a(T,{class:j(["mx-auto d-block mb-4",`circular-progress-${u(e.data?.usage_percent)}`]),color:d(e.data?.usage_percent),"model-value":e.data?.usage_percent??0,size:120,width:12},{default:r(()=>[t("div",at,[t("div",st,o(e.data?.usage_percent?.toFixed(0)??"--"),1),i[1]||(i[1]=t("div",{class:"text-caption text-secondary"},"percent",-1))])]),_:1},8,["class","color","model-value"]),a(S,{class:"my-3",style:{opacity:"0.1"}}),t("div",nt,[i[2]||(i[2]=t("div",{class:"text-secondary"},"Cores:",-1)),t("div",it,o(e.data?.core_count??"--"),1)]),t("div",ot,[i[3]||(i[3]=t("div",{class:"text-secondary"},"Frequency:",-1)),t("div",rt,o(e.data?.frequency_mhz?`${e.data.frequency_mhz.toFixed(0)} MHz`:"--"),1)])]),_:1})]),_:1}))}},dt={class:"d-flex align-center justify-space-between mb-4"},ct={class:"text-h5 text-primary-high font-weight-bold"},ut={class:"d-flex justify-space-between align-center mb-3"},mt={class:"text-body-2 text-primary-medium"},ft={class:"font-weight-bold"},yt={class:"text-caption text-secondary"},vt={class:"d-flex justify-space-between text-caption"},xt={__name:"DiskCard",props:{data:{type:Object,default:null}},setup(e){function d(s){return s?s<70?"success":s<90?"warning":"error":"secondary"}function u(s){return!s||s<70?"success":s<90?"warning":"error"}return(s,i)=>(l(),h(k,{hoverable:""},{default:r(()=>[a($,null,{default:r(()=>[t("div",dt,[t("div",null,[i[0]||(i[0]=t("div",{class:"text-secondary text-caption mb-1"},"Disk Usage",-1)),t("div",ct,o(e.data?.percent?.toFixed(1)??"--")+"% ",1)]),a(g,{color:d(e.data?.percent),icon:"mdi-harddisk",size:"48",style:{opacity:"0.3"}},null,8,["color"])]),a(O,{class:j(`progress-${u(e.data?.percent)} mb-4`),color:d(e.data?.percent),height:"12","model-value":e.data?.percent??0,rounded:""},null,8,["class","color","model-value"]),t("div",ut,[t("div",mt,[t("span",ft,o(e.data?.used_gb?.toFixed(1)??"--"),1),i[1]||(i[1]=t("span",{class:"text-secondary"}," GB used",-1))]),t("div",yt," of "+o(e.data?.total_gb?.toFixed(1)??"--")+" GB ",1)]),a(S,{class:"my-3",style:{opacity:"0.1"}}),t("div",vt,[i[2]||(i[2]=t("div",{class:"text-secondary"},"Free:",-1)),t("div",{class:j(`text-${u(e.data?.percent)}`)},o(e.data?.free_gb?.toFixed(1)??"--")+" GB ",3)])]),_:1})]),_:1}))}},pt={class:"d-flex align-center justify-space-between mb-4"},ht={class:"text-h5 text-primary-high font-weight-bold"},gt={class:"d-flex justify-space-between align-center mb-3"},bt={class:"text-body-2 text-primary-medium"},wt={class:"font-weight-bold"},_t={class:"text-caption text-secondary"},$t={class:"d-flex justify-space-between text-caption"},kt={__name:"MemoryCard",props:{data:{type:Object,default:null}},setup(e){function d(s){return s?s<85?"success":s<95?"warning":"error":"secondary"}function u(s){return!s||s<85?"success":s<95?"warning":"error"}return(s,i)=>(l(),h(k,{hoverable:""},{default:r(()=>[a($,null,{default:r(()=>[t("div",pt,[t("div",null,[i[0]||(i[0]=t("div",{class:"text-secondary text-caption mb-1"},"Memory Usage",-1)),t("div",ht,o(e.data?.percent?.toFixed(1)??"--")+"% ",1)]),a(g,{color:d(e.data?.percent),icon:"mdi-memory",size:"48",style:{opacity:"0.3"}},null,8,["color"])]),a(O,{class:j(`progress-${u(e.data?.percent)} mb-4`),color:d(e.data?.percent),height:"12","model-value":e.data?.percent??0,rounded:""},null,8,["class","color","model-value"]),t("div",gt,[t("div",bt,[t("span",wt,o(e.data?.used_mb?(e.data.used_mb/1024).toFixed(1):"--"),1),i[1]||(i[1]=t("span",{class:"text-secondary"}," GB used",-1))]),t("div",_t," of "+o(e.data?.total_mb?(e.data.total_mb/1024).toFixed(1):"--")+" GB ",1)]),a(S,{class:"my-3",style:{opacity:"0.1"}}),t("div",$t,[i[2]||(i[2]=t("div",{class:"text-secondary"},"Available:",-1)),t("div",{class:j(`text-${u(e.data?.percent)}`)},o(e.data?.available_mb?(e.data.available_mb/1024).toFixed(1):"--")+" GB ",3)])]),_:1})]),_:1}))}},Dt={class:"d-flex align-center justify-space-between mb-4"},Ct={key:0},Vt={class:"mb-3"},jt={class:"d-flex justify-space-between text-caption mt-1"},St={class:"text-success"},Ft={class:"text-caption text-secondary mb-1"},Bt={key:1,class:"text-center py-4"},Mt={class:"d-flex align-center justify-space-between mb-1"},zt={class:"d-flex align-center ga-3"},Ut={class:"text-body-2 text-primary-medium font-weight-medium"},Nt={key:0,class:"text-caption text-secondary"},Ot={class:"d-flex justify-space-between text-caption text-secondary ml-6 mt-1"},At={__name:"NetworkCard",props:{wifiData:{type:Object,default:null},networkData:{type:Object,default:null}},setup(e){const d=e,u=V(()=>{if(d.wifiData?.connected===!0)return!0;const n=d.networkData?.interfaces||{};return Object.entries(n).some(([c,p])=>c.toLowerCase().includes("wlan")?Array.isArray(p?.addresses)&&p.addresses.length>0:!1)}),s=V(()=>{const n=d.wifiData?.signal_dbm??d.wifiData?.signal;return typeof n=="number"?n:null}),i=V(()=>{let n=d.wifiData?.signal_percent;if(typeof n=="number"||(n=d.wifiData?.strength,typeof n=="number")||(n=d.wifiData?.signal,typeof n=="number"&&n>0))return Math.max(0,Math.min(100,Math.round(n)));if(typeof s.value=="number"){const c=Math.round(2*(s.value+100));return Math.max(0,Math.min(100,c))}return 0}),f=V(()=>{if(!u.value)return"disconnected";if(d.wifiData?.quality)return d.wifiData.quality;const n=i.value;return n>=75?"excellent":n>=50?"good":n>=25?"fair":"poor"});function m(n){return{excellent:"success",good:"info",fair:"warning",poor:"error",disconnected:"neutral"}[n]||"neutral"}function D(n){if(!n)return"0 B";const c=1024,p=["B","KB","MB","GB","TB"],b=Math.floor(Math.log(n)/Math.log(c));return`${(n/Math.pow(c,b)).toFixed(1)} ${p[b]}`}function B(n){const c=n.toLowerCase();return c.includes("wlan")?"WiFi":c.includes("eth")?"Ethernet":n}return(n,c)=>(l(),h(k,{hoverable:""},{default:r(()=>[a($,null,{default:r(()=>[t("div",Dt,[t("div",null,[c[1]||(c[1]=t("div",{class:"text-secondary text-caption mb-1"},"Network & WiFi",-1)),u.value?(l(),h(N,{key:0,variant:m(f.value)},{default:r(()=>[F(o(f.value),1)]),_:1},8,["variant"])):(l(),h(N,{key:1,variant:"neutral"},{default:r(()=>[...c[0]||(c[0]=[F(" Disconnected ",-1)])]),_:1}))]),a(g,{color:u.value?"success":"secondary",icon:"mdi-wifi",size:"48",style:{opacity:"0.3"}},null,8,["color"])]),u.value?(l(),y("div",Ct,[t("div",Vt,[a(O,{class:"progress-success",color:"success",height:"8","model-value":i.value,rounded:""},null,8,["model-value"]),t("div",jt,[c[2]||(c[2]=t("span",{class:"text-secondary"},"Signal Strength",-1)),t("span",St,o(i.value)+"%",1)])]),t("div",Ft,"Signal: "+o(s.value??"--")+" dBm",1)])):(l(),y("div",Bt,[a(g,{color:"secondary",icon:"mdi-wifi-off",size:"48",style:{opacity:"0.3"}}),c[3]||(c[3]=t("div",{class:"text-caption text-secondary mt-2"},"Not connected to WiFi",-1))])),a(S,{class:"my-3",style:{opacity:"0.1"}}),c[4]||(c[4]=t("div",{class:"text-caption text-secondary mb-2"},"Network Interfaces:",-1)),(l(!0),y(z,null,U(e.networkData?.interfaces,(p,b)=>(l(),y("div",{key:b,class:"mb-3"},[t("div",Mt,[t("div",zt,[a(g,{color:"primary",icon:b.includes("wlan")?"mdi-wifi":"mdi-ethernet",size:"16"},null,8,["icon"]),t("span",Ut,o(B(b)),1)]),b.includes("wlan")?(l(),y("span",Nt," ("+o(i.value)+"%) ",1)):M("",!0)]),(l(!0),y(z,null,U(p.addresses,w=>(l(),y("div",{key:w.address,class:"text-caption text-secondary ml-6"},o(w.type.toUpperCase())+": "+o(w.address),1))),128)),t("div",Ot,[t("span",null,"↓ "+o(D(p.bytes_recv)),1),t("span",null,"↑ "+o(D(p.bytes_sent)),1)])]))),128))]),_:1})]),_:1}))}},It={class:"d-flex align-center justify-space-between mb-4"},Tt={class:"text-h6 text-primary-high font-weight-bold mb-1"},Lt={class:"text-caption text-secondary"},qt={class:"d-flex justify-space-between align-center mb-2"},Gt={class:"text-body-2 text-primary-medium font-weight-medium"},Pt={class:"d-flex justify-space-between align-center mb-2"},Rt={class:"text-caption text-primary-medium"},Et={key:0,class:"d-flex justify-space-between align-center"},Wt={class:"text-caption text-primary-medium"},Ht={__name:"SystemInfoCard",props:{hostnameData:{type:Object,default:null},uptimeData:{type:Object,default:null},apiVersion:{type:String,default:""}},setup(e){function d(u){return u?new Date(u).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"--"}return(u,s)=>(l(),h(k,{elevated:""},{default:r(()=>[a($,null,{default:r(()=>[t("div",It,[t("div",null,[t("div",Tt,o(e.hostnameData?.hostname||"CDO Vertex"),1),t("div",Lt,o(e.hostnameData?.platform)+" · "+o(e.hostnameData?.architecture),1)]),a(g,{color:"primary",icon:"mdi-raspberry-pi",size:"48",style:{opacity:"0.5"}})]),a(S,{class:"my-3",style:{opacity:"0.1"}}),t("div",qt,[s[0]||(s[0]=t("div",{class:"text-caption text-secondary"},"Uptime:",-1)),t("div",Gt,o(e.uptimeData?.uptime_formatted||"--"),1)]),t("div",Pt,[s[1]||(s[1]=t("div",{class:"text-caption text-secondary"},"Boot Time:",-1)),t("div",Rt,o(d(e.uptimeData?.boot_time)),1)]),e.apiVersion?(l(),y("div",Et,[s[2]||(s[2]=t("div",{class:"text-caption text-secondary"},"API Version:",-1)),t("div",Wt,o(e.apiVersion),1)])):M("",!0)]),_:1})]),_:1}))}},Kt={class:"d-flex align-center justify-space-between mb-4"},Qt={key:0,class:"text-center py-8"},Jt={key:1,class:"text-center py-4"},Xt={class:"text-h6 text-secondary mt-1"},Yt={class:"d-flex justify-center gap-2"},Zt={class:"text-caption text-primary-medium"},te={__name:"TemperatureCard",props:{data:{type:Object,default:null}},setup(e){function d(f){return{normal:"success",warm:"warning",hot:"warning",critical:"error",unavailable:"secondary"}[f]||"secondary"}function u(f){return{normal:"success",warm:"warning",hot:"warning",critical:"error",unavailable:"neutral"}[f]||"neutral"}function s(f){return{normal:"mdi-check-circle",warm:"mdi-alert",hot:"mdi-alert",critical:"mdi-fire",unavailable:"mdi-help-circle"}[f]||"mdi-thermometer"}function i(f){return{normal:"Running cool",warm:"Slightly warm",hot:"Running hot",critical:"Critical temperature",unavailable:"No data"}[f]||"Unknown"}return(f,m)=>(l(),h(k,{hoverable:""},{default:r(()=>[a($,null,{default:r(()=>[t("div",Kt,[t("div",null,[m[0]||(m[0]=t("div",{class:"text-secondary text-caption mb-1"},"Temperature",-1)),e.data?.status?(l(),h(N,{key:0,variant:u(e.data.status)},{default:r(()=>[F(o(e.data.status),1)]),_:1},8,["variant"])):M("",!0)]),a(g,{color:d(e.data?.status),icon:"mdi-thermometer",size:"48",style:{opacity:"0.3"}},null,8,["color"])]),e.data?.status==="unavailable"?(l(),y("div",Qt,[a(g,{color:"secondary",icon:"mdi-thermometer-alert",size:"64",style:{opacity:"0.3"}}),m[1]||(m[1]=t("div",{class:"text-body-2 text-secondary mt-3"},"Sensor unavailable",-1))])):(l(),y("div",Jt,[t("div",{class:j(["text-h1 font-weight-bold",`text-${u(e.data?.status)}`])},o(e.data?.celsius?.toFixed(1)??"--")+"° ",3),t("div",Xt,o(e.data?.fahrenheit?.toFixed(1)??"--")+"°F ",1),a(S,{class:"my-4",style:{opacity:"0.1"}}),t("div",Yt,[a(g,{color:d(e.data?.status),icon:s(e.data?.status),size:"20"},null,8,["color","icon"]),t("span",Zt,o(i(e.data?.status)),1)])]))]),_:1})]),_:1}))}},ee={class:"d-flex flex-column flex-sm-row justify-space-between align-start align-sm-center mb-6 gap-3"},ae={key:0,class:"text-center py-16"},se={class:"text-body-2"},ne={key:0,class:"text-caption text-secondary mt-2"},ie={key:2},oe={class:"mb-4"},re={class:"text-center mt-6"},le={class:"text-caption text-secondary"},xe={__name:"status",setup(e){const d=H(),{error:u}=W(),s=_(!1),i=_(null),f=_(!0),m=_(null),D=_(""),B=_(""),n=_(null);let c=null;const p=V(()=>{if(!n.value)return[];const x=[];return n.value.code&&x.push(`Code: ${n.value.code}`),n.value.status&&x.push(`Status: ${n.value.status}`),n.value.requestUrl&&x.push(`URL: ${n.value.requestUrl}`),x}),b=V(()=>m.value?.wifi||null);async function w(){try{s.value=!0,i.value=null;const x=await E();m.value=x.data,f.value=!0,B.value=new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch(x){i.value=x.message,n.value=x,f.value=!1,u("Failed to fetch system data: "+x.message)}finally{s.value=!1}}async function L(){try{const x=await R();D.value=x.data?.version||""}catch{D.value=""}}return G(async()=>{await L(),await w(),c=setInterval(w,5e3)}),P(()=>{c&&clearInterval(c)}),(x,v)=>(l(),h(Q,{class:"pa-4 pa-md-6",fluid:""},{default:r(()=>[t("div",ee,[v[1]||(v[1]=t("div",null,[t("h1",{class:"text-h4 text-md-h3 text-primary-high font-weight-bold mb-1"},"Device Status"),t("p",{class:"text-body-2 text-secondary"},"Detailed live monitoring for hardware and network health")],-1)),a(X,{connected:f.value},null,8,["connected"])]),s.value&&!m.value?(l(),y("div",ae,[a(T,{color:"primary",indeterminate:"",size:"64"}),v[2]||(v[2]=t("div",{class:"text-body-1 text-secondary mt-4"},"Loading system status...",-1))])):i.value?(l(),h(Y,{key:1,class:"mb-6",icon:"mdi-alert-circle",prominent:"",type:"error",variant:"tonal"},{append:r(()=>[a(I,{color:"error",variant:"outlined",onClick:w},{default:r(()=>[...v[3]||(v[3]=[F("Retry",-1)])]),_:1})]),default:r(()=>[v[4]||(v[4]=t("div",{class:"text-h6 mb-2"},"Connection Error",-1)),t("div",se,o(i.value),1),p.value.length?(l(),y("div",ne,[(l(!0),y(z,null,U(p.value,(A,q)=>(l(),y("div",{key:q},o(A),1))),128))])):M("",!0)]),_:1})):(l(),y("div",ie,[t("div",oe,[a(Ht,{"api-version":D.value,"hostname-data":m.value?.hostname,"uptime-data":m.value?.uptime},null,8,["api-version","hostname-data","uptime-data"])]),a(Z,null,{default:r(()=>[a(C,{cols:"12",lg:"4",sm:"6"},{default:r(()=>[a(lt,{data:m.value?.cpu},null,8,["data"])]),_:1}),a(C,{cols:"12",lg:"4",sm:"6"},{default:r(()=>[a(kt,{data:m.value?.memory},null,8,["data"])]),_:1}),a(C,{cols:"12",lg:"4",sm:"6"},{default:r(()=>[a(xt,{data:m.value?.disk},null,8,["data"])]),_:1}),a(C,{cols:"12",lg:"4",sm:"6"},{default:r(()=>[a(te,{data:m.value?.temperature},null,8,["data"])]),_:1}),a(C,{cols:"12",lg:"4",sm:"6"},{default:r(()=>[a(At,{"network-data":m.value?.network,"wifi-data":b.value},null,8,["network-data","wifi-data"])]),_:1}),a(C,{cols:"12",lg:"4",sm:"6"},{default:r(()=>[a(k,{class:"h-100 d-flex flex-column justify-space-between"},{default:r(()=>[a($,null,{default:r(()=>[...v[5]||(v[5]=[t("div",{class:"text-caption text-secondary mb-2"},"Apps",-1),t("div",{class:"text-h6 text-primary-high font-weight-bold mb-2"},"Installed Apps",-1),t("div",{class:"text-body-2 text-secondary"},"View runtime and controls for installed apps.",-1)])]),_:1}),a(J,null,{default:r(()=>[a(I,{block:"",color:"primary","prepend-icon":"mdi-apps",variant:"tonal",onClick:v[0]||(v[0]=A=>K(d).push("/apps"))},{default:r(()=>[...v[6]||(v[6]=[F(" Open Apps ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t("div",re,[t("div",le,"Last updated: "+o(B.value),1)])]))]),_:1}))}};export{xe as default};
