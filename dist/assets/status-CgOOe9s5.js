import{d as l,c as g,w as r,f as a,e as t,t as o,A as b,V as W,n as j,m as O,l as F,h as v,F as I,i as U,j as M,p as V,o as H,a as K,g as Q,b as J,r as w,u as X,bB as Y,x as Z,k as L,z as tt}from"./index-BsA5uyE-.js";import{V as _,_ as $,b as et,e as at}from"./VContainer-CoJXfR-4.js";import{V as S}from"./VDivider-UUIsAQ6U.js";import{_ as N}from"./StatusBadge-C3FUqbJr.js";import{_ as st}from"./ConnectionStatus-BNvYJzZm.js";import{V as nt}from"./VAlert-D9RsTQJv.js";import{V as it,a as C}from"./VRow-CMnZ5MN3.js";const ot={class:"d-flex align-center justify-space-between mb-4"},rt={class:"text-h5 text-primary-high font-weight-bold"},lt={class:"text-center"},dt={class:"text-h4 font-weight-bold text-primary-high"},ct={class:"d-flex justify-space-between text-caption"},ut={class:"text-primary-medium"},mt={class:"d-flex justify-space-between text-caption mt-1"},ft={class:"text-primary-medium"},yt={__name:"CPUCard",props:{data:{type:Object,default:null}},setup(e){function d(s){return s?s<50?"success":s<80?"warning":"error":"secondary"}function u(s){return!s||s<50?"success":s<80?"warning":"error"}return(s,i)=>(l(),g($,{hoverable:""},{default:r(()=>[a(_,null,{default:r(()=>[t("div",ot,[t("div",null,[i[0]||(i[0]=t("div",{class:"text-secondary text-caption mb-1"},"CPU Usage",-1)),t("div",rt,o(e.data?.usage_percent?.toFixed(1)??"--")+"% ",1)]),a(b,{color:d(e.data?.usage_percent),icon:"mdi-chip",size:"48",style:{opacity:"0.3"}},null,8,["color"])]),a(W,{class:j(["mx-auto d-block mb-4",`circular-progress-${u(e.data?.usage_percent)}`]),color:d(e.data?.usage_percent),"model-value":e.data?.usage_percent??0,size:120,width:12},{default:r(()=>[t("div",lt,[t("div",dt,o(e.data?.usage_percent?.toFixed(0)??"--"),1),i[1]||(i[1]=t("div",{class:"text-caption text-secondary"},"percent",-1))])]),_:1},8,["class","color","model-value"]),a(S,{class:"my-3",style:{opacity:"0.1"}}),t("div",ct,[i[2]||(i[2]=t("div",{class:"text-secondary"},"Cores:",-1)),t("div",ut,o(e.data?.core_count??"--"),1)]),t("div",mt,[i[3]||(i[3]=t("div",{class:"text-secondary"},"Frequency:",-1)),t("div",ft,o(e.data?.frequency_mhz?`${e.data.frequency_mhz.toFixed(0)} MHz`:"--"),1)])]),_:1})]),_:1}))}},vt={class:"d-flex align-center justify-space-between mb-4"},xt={class:"text-h5 text-primary-high font-weight-bold"},pt={class:"d-flex justify-space-between align-center mb-3"},ht={class:"text-body-2 text-primary-medium"},gt={class:"font-weight-bold"},bt={class:"text-caption text-secondary"},wt={class:"d-flex justify-space-between text-caption"},_t={__name:"DiskCard",props:{data:{type:Object,default:null}},setup(e){function d(s){return s?s<70?"success":s<90?"warning":"error":"secondary"}function u(s){return!s||s<70?"success":s<90?"warning":"error"}return(s,i)=>(l(),g($,{hoverable:""},{default:r(()=>[a(_,null,{default:r(()=>[t("div",vt,[t("div",null,[i[0]||(i[0]=t("div",{class:"text-secondary text-caption mb-1"},"Disk Usage",-1)),t("div",xt,o(e.data?.percent?.toFixed(1)??"--")+"% ",1)]),a(b,{color:d(e.data?.percent),icon:"mdi-harddisk",size:"48",style:{opacity:"0.3"}},null,8,["color"])]),a(O,{class:j(`progress-${u(e.data?.percent)} mb-4`),color:d(e.data?.percent),height:"12","model-value":e.data?.percent??0,rounded:""},null,8,["class","color","model-value"]),t("div",pt,[t("div",ht,[t("span",gt,o(e.data?.used_gb?.toFixed(1)??"--"),1),i[1]||(i[1]=t("span",{class:"text-secondary"}," GB used",-1))]),t("div",bt," of "+o(e.data?.total_gb?.toFixed(1)??"--")+" GB ",1)]),a(S,{class:"my-3",style:{opacity:"0.1"}}),t("div",wt,[i[2]||(i[2]=t("div",{class:"text-secondary"},"Free:",-1)),t("div",{class:j(`text-${u(e.data?.percent)}`)},o(e.data?.free_gb?.toFixed(1)??"--")+" GB ",3)])]),_:1})]),_:1}))}},$t={class:"d-flex align-center justify-space-between mb-4"},kt={class:"text-h5 text-primary-high font-weight-bold"},Dt={class:"d-flex justify-space-between align-center mb-3"},Ct={class:"text-body-2 text-primary-medium"},Vt={class:"font-weight-bold"},jt={class:"text-caption text-secondary"},St={class:"d-flex justify-space-between text-caption"},Ft={__name:"MemoryCard",props:{data:{type:Object,default:null}},setup(e){function d(s){return s?s<85?"success":s<95?"warning":"error":"secondary"}function u(s){return!s||s<85?"success":s<95?"warning":"error"}return(s,i)=>(l(),g($,{hoverable:""},{default:r(()=>[a(_,null,{default:r(()=>[t("div",$t,[t("div",null,[i[0]||(i[0]=t("div",{class:"text-secondary text-caption mb-1"},"Memory Usage",-1)),t("div",kt,o(e.data?.percent?.toFixed(1)??"--")+"% ",1)]),a(b,{color:d(e.data?.percent),icon:"mdi-memory",size:"48",style:{opacity:"0.3"}},null,8,["color"])]),a(O,{class:j(`progress-${u(e.data?.percent)} mb-4`),color:d(e.data?.percent),height:"12","model-value":e.data?.percent??0,rounded:""},null,8,["class","color","model-value"]),t("div",Dt,[t("div",Ct,[t("span",Vt,o(e.data?.used_mb?(e.data.used_mb/1024).toFixed(1):"--"),1),i[1]||(i[1]=t("span",{class:"text-secondary"}," GB used",-1))]),t("div",jt," of "+o(e.data?.total_mb?(e.data.total_mb/1024).toFixed(1):"--")+" GB ",1)]),a(S,{class:"my-3",style:{opacity:"0.1"}}),t("div",St,[i[2]||(i[2]=t("div",{class:"text-secondary"},"Available:",-1)),t("div",{class:j(`text-${u(e.data?.percent)}`)},o(e.data?.available_mb?(e.data.available_mb/1024).toFixed(1):"--")+" GB ",3)])]),_:1})]),_:1}))}},Bt={class:"d-flex align-center justify-space-between mb-4"},Mt={key:0},zt={class:"mb-3"},It={class:"d-flex justify-space-between text-caption mt-1"},Ut={class:"text-success"},Nt={class:"text-caption text-secondary mb-1"},Ot={key:1,class:"text-center py-4"},At={class:"d-flex align-center justify-space-between mb-1"},Tt={class:"d-flex align-center ga-3"},Lt={class:"text-body-2 text-primary-medium font-weight-medium"},Wt={key:0,class:"text-caption text-secondary"},Pt={class:"d-flex justify-space-between text-caption text-secondary ml-6 mt-1"},qt={__name:"NetworkCard",props:{wifiData:{type:Object,default:null},networkData:{type:Object,default:null}},setup(e){const d=e,u=V(()=>{if(d.wifiData?.connected===!0)return!0;const n=d.networkData?.interfaces||{};return Object.entries(n).some(([c,x])=>c.toLowerCase().includes("wlan")?Array.isArray(x?.addresses)&&x.addresses.length>0:!1)}),s=V(()=>{const n=d.wifiData?.signal_dbm??d.wifiData?.signal;return typeof n=="number"?n:null}),i=V(()=>{let n=d.wifiData?.signal_percent;if(typeof n=="number"||(n=d.wifiData?.strength,typeof n=="number")||(n=d.wifiData?.signal,typeof n=="number"&&n>0))return Math.max(0,Math.min(100,Math.round(n)));if(typeof s.value=="number"){const c=Math.round(2*(s.value+100));return Math.max(0,Math.min(100,c))}return 0}),f=V(()=>{if(!u.value)return"disconnected";if(d.wifiData?.quality)return d.wifiData.quality;const n=i.value;return n>=75?"excellent":n>=50?"good":n>=25?"fair":"poor"});function m(n){return{excellent:"success",good:"info",fair:"warning",poor:"error",disconnected:"neutral"}[n]||"neutral"}function k(n){if(!n)return"0 B";const c=1024,x=["B","KB","MB","GB","TB"],h=Math.floor(Math.log(n)/Math.log(c));return`${(n/Math.pow(c,h)).toFixed(1)} ${x[h]}`}function B(n){const c=n.toLowerCase();return c.includes("wlan")?"WiFi":c.includes("eth")?"Ethernet":n}return(n,c)=>(l(),g($,{hoverable:""},{default:r(()=>[a(_,null,{default:r(()=>[t("div",Bt,[t("div",null,[c[1]||(c[1]=t("div",{class:"text-secondary text-caption mb-1"},"Network & WiFi",-1)),u.value?(l(),g(N,{key:0,variant:m(f.value)},{default:r(()=>[F(o(f.value),1)]),_:1},8,["variant"])):(l(),g(N,{key:1,variant:"neutral"},{default:r(()=>[...c[0]||(c[0]=[F(" Disconnected ",-1)])]),_:1}))]),a(b,{color:u.value?"success":"secondary",icon:"mdi-wifi",size:"48",style:{opacity:"0.3"}},null,8,["color"])]),u.value?(l(),v("div",Mt,[t("div",zt,[a(O,{class:"progress-success",color:"success",height:"8","model-value":i.value,rounded:""},null,8,["model-value"]),t("div",It,[c[2]||(c[2]=t("span",{class:"text-secondary"},"Signal Strength",-1)),t("span",Ut,o(i.value)+"%",1)])]),t("div",Nt,"Signal: "+o(s.value??"--")+" dBm",1)])):(l(),v("div",Ot,[a(b,{color:"secondary",icon:"mdi-wifi-off",size:"48",style:{opacity:"0.3"}}),c[3]||(c[3]=t("div",{class:"text-caption text-secondary mt-2"},"Not connected to WiFi",-1))])),a(S,{class:"my-3",style:{opacity:"0.1"}}),c[4]||(c[4]=t("div",{class:"text-caption text-secondary mb-2"},"Network Interfaces:",-1)),(l(!0),v(I,null,U(e.networkData?.interfaces,(x,h)=>(l(),v("div",{key:h,class:"mb-3"},[t("div",At,[t("div",Tt,[a(b,{color:"primary",icon:h.includes("wlan")?"mdi-wifi":"mdi-ethernet",size:"16"},null,8,["icon"]),t("span",Lt,o(B(h)),1)]),h.includes("wlan")?(l(),v("span",Wt," ("+o(i.value)+"%) ",1)):M("",!0)]),(l(!0),v(I,null,U(x.addresses,D=>(l(),v("div",{key:D.address,class:"text-caption text-secondary ml-6"},o(D.type.toUpperCase())+": "+o(D.address),1))),128)),t("div",Pt,[t("span",null,"↓ "+o(k(x.bytes_recv)),1),t("span",null,"↑ "+o(k(x.bytes_sent)),1)])]))),128))]),_:1})]),_:1}))}},Gt={class:"d-flex align-center justify-space-between mb-4"},Rt={class:"text-h6 text-primary-high font-weight-bold mb-1"},Et={class:"text-caption text-secondary"},Ht={class:"d-flex justify-space-between align-center mb-2"},Kt={class:"text-body-2 text-primary-medium font-weight-medium"},Qt={class:"d-flex justify-space-between align-center mb-2"},Jt={class:"text-caption text-primary-medium"},Xt={key:0,class:"d-flex justify-space-between align-center"},Yt={class:"text-caption text-primary-medium"},Zt={__name:"SystemInfoCard",props:{hostnameData:{type:Object,default:null},uptimeData:{type:Object,default:null},apiVersion:{type:String,default:""}},setup(e){function d(u){return u?new Date(u).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"--"}return(u,s)=>(l(),g($,{elevated:""},{default:r(()=>[a(_,null,{default:r(()=>[t("div",Gt,[t("div",null,[t("div",Rt,o(e.hostnameData?.hostname||"CDO Vertex"),1),t("div",Et,o(e.hostnameData?.platform)+" · "+o(e.hostnameData?.architecture),1)]),a(b,{color:"primary",icon:"mdi-raspberry-pi",size:"48",style:{opacity:"0.5"}})]),a(S,{class:"my-3",style:{opacity:"0.1"}}),t("div",Ht,[s[0]||(s[0]=t("div",{class:"text-caption text-secondary"},"Uptime:",-1)),t("div",Kt,o(e.uptimeData?.uptime_formatted||"--"),1)]),t("div",Qt,[s[1]||(s[1]=t("div",{class:"text-caption text-secondary"},"Boot Time:",-1)),t("div",Jt,o(d(e.uptimeData?.boot_time)),1)]),e.apiVersion?(l(),v("div",Xt,[s[2]||(s[2]=t("div",{class:"text-caption text-secondary"},"API Version:",-1)),t("div",Yt,o(e.apiVersion),1)])):M("",!0)]),_:1})]),_:1}))}},te={class:"d-flex align-center justify-space-between mb-4"},ee={key:0,class:"text-center py-8"},ae={key:1,class:"text-center py-4"},se={class:"text-h6 text-secondary mt-1"},ne={class:"d-flex justify-center gap-2"},ie={class:"text-caption text-primary-medium"},oe={__name:"TemperatureCard",props:{data:{type:Object,default:null}},setup(e){function d(f){return{normal:"success",warm:"warning",hot:"warning",critical:"error",unavailable:"secondary"}[f]||"secondary"}function u(f){return{normal:"success",warm:"warning",hot:"warning",critical:"error",unavailable:"neutral"}[f]||"neutral"}function s(f){return{normal:"mdi-check-circle",warm:"mdi-alert",hot:"mdi-alert",critical:"mdi-fire",unavailable:"mdi-help-circle"}[f]||"mdi-thermometer"}function i(f){return{normal:"Running cool",warm:"Slightly warm",hot:"Running hot",critical:"Critical temperature",unavailable:"No data"}[f]||"Unknown"}return(f,m)=>(l(),g($,{hoverable:""},{default:r(()=>[a(_,null,{default:r(()=>[t("div",te,[t("div",null,[m[0]||(m[0]=t("div",{class:"text-secondary text-caption mb-1"},"Temperature",-1)),e.data?.status?(l(),g(N,{key:0,variant:u(e.data.status)},{default:r(()=>[F(o(e.data.status),1)]),_:1},8,["variant"])):M("",!0)]),a(b,{color:d(e.data?.status),icon:"mdi-thermometer",size:"48",style:{opacity:"0.3"}},null,8,["color"])]),e.data?.status==="unavailable"?(l(),v("div",ee,[a(b,{color:"secondary",icon:"mdi-thermometer-alert",size:"64",style:{opacity:"0.3"}}),m[1]||(m[1]=t("div",{class:"text-body-2 text-secondary mt-3"},"Sensor unavailable",-1))])):(l(),v("div",ae,[t("div",{class:j(["text-h1 font-weight-bold",`text-${u(e.data?.status)}`])},o(e.data?.celsius?.toFixed(1)??"--")+"° ",3),t("div",se,o(e.data?.fahrenheit?.toFixed(1)??"--")+"°F ",1),a(S,{class:"my-4",style:{opacity:"0.1"}}),t("div",ne,[a(b,{color:d(e.data?.status),icon:s(e.data?.status),size:"20"},null,8,["color","icon"]),t("span",ie,o(i(e.data?.status)),1)])]))]),_:1})]),_:1}))}},re={class:"d-flex flex-column flex-sm-row justify-space-between align-start align-sm-center mb-6 gap-3"},le={key:0,class:"text-center py-16"},de={class:"text-body-2"},ce={key:0,class:"text-caption text-secondary mt-2"},ue={key:2},me={class:"mb-4"},fe={class:"text-center mt-6"},ye={class:"text-caption text-secondary"},_e={__name:"status",setup(e){const d=Z(),{error:u}=X(),s=w(!1),i=w(null),f=w(!0),m=w(null),k=w(""),B=w(""),n=w(null);let c=null,x=null;const h=w(null),D=V(()=>{if(!n.value)return[];const y=[];return n.value.code&&y.push(`Code: ${n.value.code}`),n.value.status&&y.push(`Status: ${n.value.status}`),n.value.requestUrl&&y.push(`URL: ${n.value.requestUrl}`),y}),P=V(()=>h.value?h.value:m.value?.wifi||null);async function z(){try{s.value=!0,i.value=null;const y=await J();m.value=y.data,f.value=!0,B.value=new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch(y){i.value=y.message,n.value=y,f.value=!1,u("Failed to fetch system data: "+y.message)}finally{s.value=!1}}async function q(){try{const y=await Q();k.value=y.data?.version||""}catch{k.value=""}}async function A(){try{const y=await Y();h.value=y.data}catch{}}function G(){x||(A(),x=setInterval(A,5e3))}function R(){x&&(clearInterval(x),x=null)}return H(async()=>{await q(),await z(),c=setInterval(z,5e3),G()}),K(()=>{c&&clearInterval(c),R()}),(y,p)=>(l(),g(et,{class:"pa-4 pa-md-6",fluid:""},{default:r(()=>[t("div",re,[p[1]||(p[1]=t("div",null,[t("h1",{class:"text-h4 text-md-h3 text-primary-high font-weight-bold mb-1"},"Device Status"),t("p",{class:"text-body-2 text-secondary"},"Detailed live monitoring for hardware and network health")],-1)),a(st,{connected:f.value},null,8,["connected"])]),s.value&&!m.value?(l(),v("div",le,[a(W,{color:"primary",indeterminate:"",size:"64"}),p[2]||(p[2]=t("div",{class:"text-body-1 text-secondary mt-4"},"Loading system status...",-1))])):i.value?(l(),g(nt,{key:1,class:"mb-6",icon:"mdi-alert-circle",prominent:"",type:"error",variant:"tonal"},{append:r(()=>[a(L,{color:"error",variant:"outlined",onClick:z},{default:r(()=>[...p[3]||(p[3]=[F("Retry",-1)])]),_:1})]),default:r(()=>[p[4]||(p[4]=t("div",{class:"text-h6 mb-2"},"Connection Error",-1)),t("div",de,o(i.value),1),D.value.length?(l(),v("div",ce,[(l(!0),v(I,null,U(D.value,(T,E)=>(l(),v("div",{key:E},o(T),1))),128))])):M("",!0)]),_:1})):(l(),v("div",ue,[t("div",me,[a(Zt,{"api-version":k.value,"hostname-data":m.value?.hostname,"uptime-data":m.value?.uptime},null,8,["api-version","hostname-data","uptime-data"])]),a(it,null,{default:r(()=>[a(C,{cols:"12",lg:"4",sm:"6"},{default:r(()=>[a(yt,{data:m.value?.cpu},null,8,["data"])]),_:1}),a(C,{cols:"12",lg:"4",sm:"6"},{default:r(()=>[a(Ft,{data:m.value?.memory},null,8,["data"])]),_:1}),a(C,{cols:"12",lg:"4",sm:"6"},{default:r(()=>[a(_t,{data:m.value?.disk},null,8,["data"])]),_:1}),a(C,{cols:"12",lg:"4",sm:"6"},{default:r(()=>[a(oe,{data:m.value?.temperature},null,8,["data"])]),_:1}),a(C,{cols:"12",lg:"4",sm:"6"},{default:r(()=>[a(qt,{"network-data":m.value?.network,"wifi-data":P.value},null,8,["network-data","wifi-data"])]),_:1}),a(C,{cols:"12",lg:"4",sm:"6"},{default:r(()=>[a($,{class:"h-100 d-flex flex-column justify-space-between"},{default:r(()=>[a(_,null,{default:r(()=>[...p[5]||(p[5]=[t("div",{class:"text-caption text-secondary mb-2"},"Apps",-1),t("div",{class:"text-h6 text-primary-high font-weight-bold mb-2"},"Installed Apps",-1),t("div",{class:"text-body-2 text-secondary"},"View runtime and controls for installed apps.",-1)])]),_:1}),a(at,null,{default:r(()=>[a(L,{block:"",color:"primary","prepend-icon":"mdi-apps",variant:"tonal",onClick:p[0]||(p[0]=T=>tt(d).push("/apps"))},{default:r(()=>[...p[6]||(p[6]=[F(" Open Apps ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t("div",fe,[t("div",ye,"Last updated: "+o(B.value),1)])]))]),_:1}))}};export{_e as default};
